<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<canvas id="myChart"></canvas>
  <script>
    $(document).on('turbolinks:load', function(){
      var ctx = document.getElementById("myChart");
      var myChart = new Chart(ctx,{
        type: 'line',
        data: {
          labels: ['６日前', '５日前', '４日前', '３日前', '２日前', '昨日', '今日'],
          datasets: [
            {
              label: '投稿した本の数',
              data: [
                <%= books.created_each_date(6).count %>,
                <%= books.created_each_date(5).count %>,
                <%= books.created_each_date(4).count %>,
                <%= books.created_each_date(3).count %>,
                <%= books.created_each_date(2).count %>,
                <%= books.created_each_date(1).count %>,
                <%= books.created_each_date(0).count %>

              ],
              borderColor: "rgba(0,0,255,1)",
              backgroundColor: "rgba(0,0,0,0)",
              tension: 0.4
            }
          ],
        },
        options: {
          title: {
            display: true,
            text: '７日間の投稿数の比較'
          },
          responsive: true,
          scales: {
            y:{
              suggestedMin: 0,
              suggestedMax: 10
            },
            x:{
              stacked: true
            },
          },
        }
      });
    });
  </script>